<template>
    <div class="buzz-box" v-bind:class="{ minimize: minimize }">
        <div class="box-head">
            <div class="box-title">
                <h1>{{ data.title }}</h1>
            </div>
            <div class="box-options">
                <div class="option-item pin-icon">
                    <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="19px">
                        <path fill-rule="evenodd"  fill="rgb(102, 115, 129)"
                        d="M18.664,2.291 C19.549,3.175 19.993,4.336 19.996,5.497 C19.999,6.658 19.559,7.820 18.678,8.708 C17.797,9.595 16.640,10.042 15.482,10.044 C14.561,10.046 13.640,9.768 12.856,9.210 L11.687,10.387 L9.567,10.387 L11.792,8.147 C11.232,7.363 10.950,6.440 10.948,5.517 C10.946,4.356 11.385,3.194 12.266,2.306 C13.147,1.418 14.304,0.972 15.462,0.970 C16.620,0.967 17.779,1.408 18.664,2.291 L18.664,2.291 ZM0.751,12.416 C0.336,12.416 -0.000,12.079 -0.000,11.663 C-0.000,11.248 0.336,10.910 0.751,10.910 L18.548,10.910 C18.963,10.910 19.299,11.248 19.299,11.663 C19.299,12.079 18.963,12.416 18.548,12.416 L0.751,12.416 L0.751,12.416 ZM8.958,13.136 L3.469,18.665 C3.176,18.961 2.701,18.961 2.407,18.668 C2.113,18.375 2.112,17.898 2.405,17.603 L6.839,13.136 L8.958,13.136 L8.958,13.136 Z"/>
                    </svg>
                    </a>
                </div>
                <div class="option-item minimize-icon" v-on:click="minimize = !minimize">
                    <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="21px" height="3px">
                        <path fill-rule="evenodd"  fill="rgb(102, 115, 129)"
                        d="M0.813,2.932 C0.362,2.932 -0.004,2.486 -0.004,1.936 C-0.004,1.385 0.362,0.939 0.813,0.939 L20.184,0.939 C20.635,0.939 21.001,1.385 21.001,1.936 C21.001,2.486 20.635,2.932 20.184,2.932 L0.813,2.932 Z"/>
                    </svg>
                    </a>
                </div>
                <div class="option-item expand-icon">
                    <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="17px">
                        <path fill-rule="evenodd"  fill="rgb(102, 115, 129)"
                        d="M6.450,15.170 C6.503,15.490 6.289,15.793 5.972,15.847 L1.305,16.634 C0.877,16.741 0.470,16.331 0.576,15.899 L1.356,11.190 C1.410,10.870 1.710,10.654 2.028,10.708 C2.344,10.762 2.558,11.065 2.505,11.385 L2.018,14.325 L5.887,10.421 C6.432,9.871 7.279,10.725 6.734,11.276 L2.865,15.180 L5.778,14.688 C6.096,14.634 6.396,14.851 6.450,15.170 ZM6.158,6.515 L2.289,2.611 L2.776,5.551 C2.830,5.871 2.616,6.174 2.299,6.228 C1.982,6.282 1.681,6.066 1.628,5.746 L0.848,1.037 C0.742,0.605 1.148,0.195 1.577,0.302 L6.243,1.089 C6.560,1.142 6.774,1.446 6.721,1.766 C6.667,2.086 6.367,2.302 6.050,2.248 L3.136,1.756 L7.005,5.661 C7.550,6.210 6.704,7.065 6.158,6.515 ZM16.304,16.634 L11.638,15.847 C11.321,15.793 11.107,15.490 11.160,15.170 C11.214,14.850 11.514,14.634 11.831,14.688 L14.745,15.180 L10.876,11.276 C10.331,10.725 11.178,9.871 11.723,10.421 L15.592,14.325 L15.105,11.385 C15.051,11.065 15.265,10.762 15.583,10.708 C15.899,10.654 16.200,10.870 16.253,11.190 L17.033,15.899 C17.139,16.331 16.733,16.741 16.304,16.634 ZM10.889,1.766 C10.835,1.446 11.049,1.142 11.366,1.089 L16.033,0.302 C16.462,0.195 16.868,0.605 16.762,1.037 L15.982,5.746 C15.929,6.066 15.628,6.282 15.311,6.228 C14.994,6.174 14.780,5.871 14.833,5.551 L15.320,2.611 L11.451,6.515 C10.906,7.065 10.060,6.210 10.605,5.661 L14.474,1.756 L11.560,2.248 C11.243,2.302 10.942,2.086 10.889,1.766 Z"/>
                    </svg>
                    </a>
                </div>
                <div class="option-item close-icon">
                    <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="13px" height="14px">
                        <path fill-rule="evenodd"  fill="rgb(102, 115, 129)"
                        d="M12.738,12.781 C12.404,13.114 11.863,13.114 11.529,12.781 L6.498,7.770 L1.466,12.781 C1.132,13.114 0.591,13.114 0.257,12.781 C-0.078,12.448 -0.078,11.908 0.257,11.576 L5.288,6.565 L0.257,1.555 C-0.078,1.222 -0.078,0.683 0.257,0.350 C0.591,0.017 1.132,0.017 1.466,0.350 L6.498,5.360 L11.529,0.350 C11.863,0.017 12.404,0.017 12.738,0.350 C13.072,0.683 13.072,1.222 12.738,1.555 L7.707,6.565 L12.738,11.576 C13.072,11.908 13.072,12.448 12.738,12.781 Z"/>
                    </svg>
                    </a>
                </div>
            </div>
        </div>
        <div class="box-content buzz-scrollbar" id="buzz-scroll">
            <div class="milestone-group" id="milestone-1">
                <div class="milestone"  v-for="t in data.tasks" :key="t.id" @click="showTask">
                    <div class="milestone-heading">
                        <a href="#milestone-element-1" data-parent="#milestone-1" class="collapsed milestone-title" data-toggle="collapse">
                            <span> {{ t.title }} </span>  
                        </a>
                        <ul class="milestone-sub-option">
                                <li>
                                    <a href="#"> 
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                            width="23px" height="12px">
                                            <path fill-rule="evenodd"  fill="rgb(212, 214, 224)"
                                            d="M0.489,5.197 C0.519,5.163 10.875,-6.509 22.446,5.221 L23.003,5.786 L22.476,6.373 C22.444,6.409 11.371,19.002 0.475,6.306 L-0.007,5.744 L0.489,5.197 L0.489,5.197 ZM11.294,3.242 C9.772,3.242 8.538,4.452 8.538,5.945 C8.538,7.438 9.772,8.648 11.294,8.648 C12.815,8.648 14.049,7.438 14.049,5.945 C14.049,4.452 12.815,3.242 11.294,3.242 L11.294,3.242 ZM15.601,2.531 C16.370,3.464 16.830,4.652 16.830,5.945 C16.830,7.142 16.435,8.249 15.766,9.147 C18.044,8.135 19.776,6.640 20.616,5.828 C18.895,4.208 17.211,3.159 15.601,2.531 L15.601,2.531 ZM6.913,9.266 C6.188,8.348 5.757,7.196 5.757,5.945 C5.757,4.774 6.135,3.690 6.777,2.803 C4.653,3.736 3.079,5.062 2.309,5.792 C3.858,7.469 5.406,8.580 6.913,9.266 L6.913,9.266 ZM14.290,3.006 C13.523,2.254 12.464,1.788 11.294,1.788 C10.124,1.788 9.064,2.254 8.298,3.006 C7.531,3.758 7.057,4.797 7.057,5.945 C7.057,7.093 7.531,8.132 8.298,8.884 C9.064,9.636 10.124,10.101 11.294,10.101 C12.464,10.101 13.523,9.636 14.290,8.884 C15.056,8.132 15.531,7.093 15.531,5.945 C15.531,4.797 15.056,3.758 14.290,3.006 Z"/>
                                        </svg>
                                    </a>
                                </li>
                                <li>
                                    <a href="#"> 
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                            width="16px" height="16px">
                                            <path fill-rule="evenodd"  fill="rgb(212, 214, 224)"
                                            d="M9.608,3.355 C9.189,2.935 8.509,2.935 8.089,3.355 L7.709,3.735 L2.392,9.054 L2.393,9.056 L2.226,9.223 C2.226,9.223 1.692,9.761 0.485,13.653 C0.477,13.680 0.468,13.708 0.460,13.735 C0.438,13.805 0.416,13.876 0.395,13.948 C0.375,14.011 0.355,14.076 0.336,14.141 C0.319,14.196 0.303,14.250 0.286,14.306 C0.248,14.434 0.209,14.564 0.169,14.697 C0.083,14.992 -0.129,15.654 0.110,15.894 C0.341,16.125 1.011,15.922 1.304,15.835 C1.437,15.796 1.566,15.757 1.693,15.719 C1.751,15.701 1.808,15.684 1.865,15.667 C1.927,15.648 1.988,15.629 2.048,15.611 C2.123,15.588 2.198,15.565 2.271,15.542 C2.293,15.535 2.314,15.528 2.336,15.522 C6.042,14.369 6.707,13.828 6.762,13.778 C6.763,13.778 6.763,13.778 6.763,13.778 C6.765,13.776 6.767,13.774 6.767,13.774 L6.938,13.602 L6.950,13.614 L12.267,8.294 L12.267,8.294 L12.647,7.914 C13.067,7.495 13.067,6.814 12.647,6.395 L9.608,3.355 ZM6.155,13.087 C6.150,13.090 6.144,13.094 6.137,13.098 C6.134,13.101 6.129,13.103 6.125,13.106 C6.120,13.109 6.115,13.112 6.110,13.115 C6.106,13.118 6.101,13.121 6.096,13.124 C5.919,13.230 5.400,13.503 4.140,13.959 C3.993,14.012 3.832,14.068 3.664,14.126 L1.873,12.335 C1.932,12.166 1.988,12.004 2.042,11.856 C2.497,10.591 2.770,10.071 2.875,9.895 C2.877,9.890 2.880,9.887 2.882,9.883 C2.886,9.877 2.889,9.871 2.892,9.866 C2.895,9.862 2.898,9.857 2.900,9.854 C2.904,9.847 2.908,9.841 2.911,9.836 L3.043,9.705 L6.289,12.953 L6.155,13.087 ZM15.685,3.355 L12.647,0.315 C12.227,-0.104 11.547,-0.104 11.128,0.315 L10.368,1.075 C9.949,1.495 9.949,2.175 10.368,2.595 L13.406,5.635 C13.826,6.054 14.506,6.054 14.926,5.635 L15.685,4.875 C16.105,4.455 16.105,3.775 15.685,3.355 Z"/>
                                        </svg>
                                    </a>
                                </li>
                                <li>
                                    <a href="#"> 
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                            width="12px" height="17px">
                                            <path fill-rule="evenodd"  fill="rgb(212, 214, 224)"
                                            d="M11.461,4.513 L0.538,4.513 C0.241,4.513 -0.000,4.264 -0.000,3.958 L-0.000,2.252 C-0.000,1.946 0.241,1.698 0.538,1.698 L3.489,1.698 L3.489,0.547 C3.489,0.240 3.730,-0.008 4.027,-0.008 L7.972,-0.008 C8.270,-0.008 8.511,0.240 8.511,0.547 L8.511,1.698 L11.461,1.698 C11.759,1.698 12.000,1.946 12.000,2.252 L12.000,3.958 C12.000,4.264 11.759,4.513 11.461,4.513 ZM7.434,1.101 L4.566,1.101 L4.566,1.698 L7.434,1.698 L7.434,1.101 ZM10.805,16.466 C10.793,16.763 10.556,16.997 10.267,16.997 L1.732,16.997 C1.444,16.997 1.207,16.763 1.194,16.466 L0.748,5.622 L11.252,5.622 L10.805,16.466 ZM4.372,7.877 C4.372,7.570 4.131,7.322 3.833,7.322 C3.536,7.322 3.294,7.570 3.294,7.877 L3.294,14.742 C3.294,15.049 3.536,15.297 3.833,15.297 C4.131,15.297 4.372,15.049 4.372,14.742 L4.372,7.877 ZM6.538,7.877 C6.538,7.570 6.297,7.322 6.000,7.322 C5.702,7.322 5.461,7.570 5.461,7.877 L5.461,14.742 C5.461,15.049 5.702,15.297 6.000,15.297 C6.297,15.297 6.538,15.049 6.538,14.742 L6.538,7.877 ZM8.705,7.877 C8.705,7.570 8.464,7.322 8.166,7.322 C7.869,7.322 7.628,7.570 7.628,7.877 L7.628,14.742 C7.628,15.049 7.869,15.297 8.166,15.297 C8.464,15.297 8.705,15.049 8.705,14.742 L8.705,7.877 Z"/>
                                        </svg>
                                    </a>
                                </li>
                            </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-footer milestone-footer">
            <a href="#"> Add New </a>
        </div>
        <modal name="comments" transition="nice-modal-fade">
            <section class="content">
                <task-info :task="task"></task-info>
            </section>
        </modal>
    </div>
</template>

<script>
    import TaskInfo from '../tasks/TaskInfo.vue'
    export default {
        components: {
            'task-info': TaskInfo,
        },
        props: ['data'],
        data(){
            return {
                minimize: false,
                task: []
            }
        },
        methods:{
            addTask(val){
                this.$emit('addTask', {
                id: this.data.id,
                task: val
                });
            },
            showTask(val){
                this.task = val;
                this.$modal.show('comments');
            }
        }
    }
</script>

<style>

</style>
